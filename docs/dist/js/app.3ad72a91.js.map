{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/flag.svg","webpack:///./src/components/Map.vue?1e83","webpack:///./src/assets/origin.svg","webpack:///./src/assets/bluecircle.png","webpack:///./src/assets/carmarker.png","webpack:///./src/App.vue","webpack:///./src/utils/stopFinder.js","webpack:///src/App.vue","webpack:///./src/App.vue?1493","webpack:///./src/App.vue?315a","webpack:///./src/store/store.js","webpack:///./src/components/Map.vue","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?215c","webpack:///./src/components/Map.vue?718c","webpack:///./src/components/Confirm.vue","webpack:///./src/components/DirectionsRenderer.js","webpack:///src/components/Confirm.vue","webpack:///./src/components/Confirm.vue?daed","webpack:///./src/components/Confirm.vue?ede9","webpack:///./src/components/DestinationSearch.vue","webpack:///src/components/DestinationSearch.vue","webpack:///./src/components/DestinationSearch.vue?2c32","webpack:///./src/components/DestinationSearch.vue?3a3d","webpack:///./src/components/DriveDestination.vue","webpack:///src/components/DriveDestination.vue","webpack:///./src/components/DriveDestination.vue?bae3","webpack:///./src/components/DriveDestination.vue?87a0","webpack:///./src/components/DriveOrigin.vue","webpack:///src/components/DriveOrigin.vue","webpack:///./src/components/DriveOrigin.vue?c454","webpack:///./src/components/DriveOrigin.vue?c80b","webpack:///./src/components/Rating.vue","webpack:///src/components/Rating.vue","webpack:///./src/components/Rating.vue?f591","webpack:///./src/components/Rating.vue?8e9f","webpack:///./src/components/SessionLogin.vue","webpack:///./src/utils/mqttBridge.js","webpack:///src/components/SessionLogin.vue","webpack:///./src/components/SessionLogin.vue?51cf","webpack:///./src/components/SessionLogin.vue?3ea2","webpack:///./src/router/router.js","webpack:///./src/main.js","webpack:///./src/components/Rating.vue?70d5","webpack:///./src/components/DriveDestination.vue?4d5c","webpack:///./src/components/DriveOrigin.vue?323f","webpack:///./src/App.vue?172c","webpack:///./src/assets/united-kingdom.png","webpack:///./src/components/DestinationSearch.vue?f92a","webpack:///./src/assets/estonia.png","webpack:///./src/components/Confirm.vue?6f28","webpack:///./src/components/SessionLogin.vue?0868","webpack:///./src/components/DestinationSearch.vue?175b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","staticRenderFns","StopFinder","constructor","stops","stopsData","findClosestStops","point","maxDistance","maxStops","stopsWithinDistance","map","stop","distance","getDistance","latitude","longitude","position","lat","lng","dist_from_point","filter","sortedStops","sort","a","b","components","polling","ip","location","mqttBridge","methods","mapActions","mapGetters","geolocate","geolocationWatcher","navigator","geolocation","watchPosition","coords","setUserLocation","setGeolocationWatcher","startAppLogic","host","setIP","setStopFinder","getMqttBridge","carLocation","setInterval","setCarLocation","getPose","watch","newVal","clearInterval","mounted","component","Vue","use","Vuex","getDefaulState","ip_address","markers","userLocation","origin","destination","lang","localStorage","getItem","locale","en","est","currentLang","waypoints","sentBacktoSelection","dropoffPosition","pickupOptions","dropoffOptions","sessionId","isSessionValid","sessionValidationStatus","stopFinder","state","getters","getMarkers","getUserLocation","getCarLocation","getIP","getOrigin","getDestination","getLang","getCurrentLang","getLocale","getWaypoints","getSentBacktoSelection","getDropoffPosition","getPickupOptions","getDropoffOptions","getSessionValidationStatus","getGeolocationWatcher","getStopFinder","getSessionId","mutations","appendMarker","marker","addUserLocation","addCarLocation","SET_IP","addOrigin","addDestination","addLang","setItem","addCurrentLang","setWaypoints","addSentBacktoSelection","addDropoffPosition","addPickupOptions","addDropoffOptions","addSessionValidationStatus","resetState","assign","addSessionId","addIsSessionValid","addGeolocationWatcher","addMqttBridge","addStopFinder","actions","commit","nullWaypoints","Store","isReady","endingSession","staticClass","require","on","changeLang","_e","endSession","_v","_s","$store","style","width","height","mapType","center","zoom","mapOptions","url","whereTo","endingMessage","loadingMap","zoomControl","fullscreenControl","streetViewControl","mapTypeControl","preserveViewport","computed","setLang","setCurrentLang","clearWatch","disconnect","dispatch","undefined","setIsSessionValid","newUrl","pathname","hash","history","replaceState","$router","innerHeight","created","ref","noStopsFound","error","noStopsErrorBoth","noStopsErrorPickup","noStopsErrorDropoff","backClicked","back","selectedPickup","selectedDropoff","choosePickup","directives","rawName","expression","$event","$$selectedVal","Array","target","options","selected","val","_value","multiple","_l","index","domProps","chooseDropoff","orderCartoUser","orderCar","cancelClicked","cancel","pickup","scaledSize","anchor","x","y","onPickupMarkerClick","dropoff","onDropoffMarkerClick","MapElementFactory","ctr","google","maps","DirectionsRenderer","events","mappedProps","props","type","default","travelMode","String","suppressMarkers","Boolean","onDirectionsSet","Function","afterCreate","directionsRenderer","directionsService","DirectionsService","$watch","route","stopover","response","status","routes","setOptions","setDirections","bounds","getMap","fitBounds","immediate","currentPlace","hasCustomWaypoints","setSentBacktoSelection","publishedData","publishGoal","setDropoffPosition","setOrigin","setDestination","beforeDestroy","intervalId","enterOrigAndDest","goBack","enterOrig","autoCompleteOptions","showButton","setOriginPlace","enterDest","hideButton","setDestinationPlace","showLocationButton","useMyLocation","myLocation","componentRestrictions","country","pacobserver","closestStops","searchedName","setPickupOptions","document","getElementById","place","originBox","border","geometry","destinationBox","setDropoffOptions","updateScheduled","adjustPacContainers","pacs","getElementsByClassName","pac","isVisible","display","getPropertyValue","setProperty","observer","MutationObserver","requestAnimationFrame","observe","body","childList","subtree","attributes","attributeFilter","pacObserver","carHasArrived","arriveDropoff","areYouOut","endDrive","yes","staticStyle","speed","velocity","completedPath","strokeColor","strokeOpacity","strokeWeight","remainingPath","pollingDist","pollingVel","wpPolling","eventPolling","mapObject","pathHolder","polylinePath","Number","getCompletedPath","getRemainingPath","handler","newPath","newPathString","JSON","stringify","pathString","LatLngBounds","forEach","extend","LatLng","$nextTick","$refs","mapRef","$mapObject","pollEventState","wps","carVelocity","getSpeed","closestIndex","findClosestPointIndex","carPos","minDist","Infinity","dist","Math","hypot","fetchWaypoints","arrivePickup","areYouIn","driveToDestination","inCar","driveToPickup","waitingForWaypoints","rating","setRating","model","callback","$$v","StarRating","current","Date","date","getFullYear","getMonth","getDate","time","getHours","getMinutes","getSeconds","dateTime","publishRating","datetime","enterSessionId","sessionIdArray","digit","refInFor","validationStatus","composing","$set","onInput","indexOf","_k","keyCode","onBackspace","onArrowLeft","onArrowRight","validateSession","arguments","onPaste","validate","errorMessage","MqttBridge","isDev","client","pose","topics","published","GOAL","RATING","received","STATUS","ROUTE","connect","port","useTLS","protocol","rejectUnauthorized","clientId","mqtt","connack","returnCode","console","log","subscribe","qos","CONNACK","topic","message","parse","toString","timeout","Promise","resolve","startTime","now","interval","end","publish","currentError","join","incorrectFormatError","sessionNotFoundError","attemptingToConnect","event","replace","codeInput","focus","preventDefault","pastedData","clipboardData","getData","test","currentIndex","char","isNaN","isValid","setMqttBridge","urlParams","URLSearchParams","search","set","split","Router","path","SessionLogin","meta","notRequiresAuth","Map","DestinationSearch","Confirm","DriveOrigin","DriveDestination","Rating","config","productionTip","IconsPlugin","VueGoogleMaps","load","libraries","addEventListener","visibilityState","store","router","beforeEach","to","_from","next","matched","some","record","query","fromEntries","entries","originalPush","onResolve","onReject","catch","err","originalReplace","h","App","$mount"],"mappings":"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","file":"js/app.3ad72a91.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/flag.e7fde050.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=6b4aaa3f&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/origin.cdc1f4f8.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getDistance } from 'geolib';\nimport stopsData from '@/assets/stops.json'; // Import stops data from JSON file\n\nexport class StopFinder {\n  constructor() {\n    this.stops = stopsData.stops; // Load stops from the JSON file\n  }\n\n  findClosestStops(point, maxDistance = 0.5, maxStops = 3) {\n    // Find stops within maxDistance of the point\n    const stopsWithinDistance = this.stops\n      .map((stop) => {\n        const distance = getDistance(\n          { latitude: point[0], longitude: point[1] },\n          { latitude: stop.position.lat, longitude: stop.position.lng }\n        ) / 1000; // Convert meters to kilometers\n        return {\n          name: stop.name,\n          position: stop.position,\n          dist_from_point: distance,\n        };\n      })\n      .filter((stop) => stop.dist_from_point <= maxDistance);\n\n    // Sort stops by distance from the point\n    const sortedStops = stopsWithinDistance.sort(\n      (a, b) => a.dist_from_point - b.dist_from_point\n    );\n    // Return the first maxStops\n    return sortedStops.slice(0, maxStops);\n  }\n}","<template>\n    <div id=\"app\">\n        <router-view></router-view>\n    </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport { StopFinder } from './utils/stopFinder.js';\n\nexport default {\n    name: \"App\",\n    components: {\n    },\n\n    data() {\n        return {\n            polling: null,\n            ip: \"\",\n            location: null,\n            mqttBridge: null,\n        }\n    },\n\n    methods: {\n        ...mapActions(['setUserLocation', 'setIP', 'setGeolocationWatcher', 'setCarLocation', 'setMqttBridge', 'setStopFinder']),\n        ...mapGetters(['getShowLocationButton', 'getGeolocationWatcher', 'getMqttBridge', 'getSessionId']),\n\n        geolocate: function() {\n            const geolocationWatcher = navigator.geolocation.watchPosition(\n                position => {\n                    this.location = {\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude,\n                    };\n                    this.setUserLocation({ position: this.location });\n                }\n            );\n            this.setGeolocationWatcher(geolocationWatcher);\n        },\n        startAppLogic() {\n            this.ip = window.location.host.slice(0, -5);\n            this.setIP(this.ip);\n\n            this.setStopFinder(new StopFinder());\n            this.mqttBridge = this.getMqttBridge();\n\n            this.carLocation();\n        },\n        carLocation: function() {\n            this.polling = setInterval(() => {\n                this.setCarLocation(this.mqttBridge.getPose());\n            } , 1000);\n        },\n    },\n    watch: {\n        '$store.state.isSessionValid': function(newVal) {\n            if(this.polling) {\n                    clearInterval(this.polling);\n                    this.polling = null;\n            }\n            if (newVal) {\n                this.startAppLogic();\n            }\n        },\n        '$store.state.geolocationWatcher': function(newVal) {\n            if (!newVal) {\n                this.geolocate();\n            }\n        },\n    },\n    mounted: function() {\n        this.geolocate();\n    }\n};\n</script>\n\n<style>\n    * {\n        font-family: 'Roboto', sans-serif; \n        font-weight: 500 !important;\n    }\n\n    body {\n        margin-top: 0px; \n        margin-bottom: 0px; \n        margin-left: 5px; \n        margin-right: 5px;\n    }\n    \n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=c2b275f8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=c2b275f8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst getDefaulState = () => ({\n    ip_address: null,\n    markers: [],\n    userLocation: null,\n    carLocation: null,\n    origin: null,\n    destination: null,\n    lang: localStorage.getItem('lang') || 'en',\n    locale: {\n        en: {\n            'whereTo': 'Where to?',\n            'enterDest': 'Enter destination',\n            'enterOrig': 'Enter origin',\n            'myLocation': 'My location',\n            'closestPickup': 'Closest pickup point',\n            'closestDropoff': 'Closest dropoff point',\n            'orderCar': 'Order car',\n            'cancel': 'Cancel',\n            'driveToPickup': 'The car is driving to the pickup point.',\n            'arrivePickup': 'The car has arrived.',\n            'areYouIn': 'Are you in the car?',\n            'inCar': 'Yes, I am in the car',\n            'speed': \"The car's speed: \",\n            'arriveDropoff': 'The car has arrived to the destination.',\n            'areYouOut': 'Are you out of the car?',\n            'yes': 'Yes',\n            'rating': 'How do you rate the ride?',\n            'noStopsErrorBoth': 'No stops were found near the chosen origin and destination points.',\n            'noStopsErrorPickup': 'No stops were found near the chosen origin point.',\n            'noStopsErrorDropoff': 'No stops were found near the chosen destination point.',\n            'back': 'Back',\n            'waitingForCar': 'Waiting for the car to connect...',\n            'carConnected': 'Car connected!',\n            'choosePickup': 'Choose pickup point',\n            'chooseDropoff': 'Choose destination point',\n            'enterOrigAndDest': 'Enter pickup and destination',\n            'enterSessionId': 'Enter session ID',\n            'validate': 'Continue',\n            'incorrectFormatError': 'Session ID must be a 6-digit number.',\n            'sessionNotFoundError': 'Session not found. Please check the session ID.',\n            'sessionUnknownError': 'Unknown error has occurred. Please try again.',\n            'attemptingToConnect': 'Attempting to connect...',\n            'endSession': 'End Session',\n            'loadingMap': 'Loading map...',\n            'endingMessage': 'Ending session...',\n        },\n        est: {\n            'whereTo': 'Kuhu sõidame?',\n            'enterDest': 'Sisesta sihtkoht',\n            'enterOrig': 'Sisesta alguskoht',\n            'myLocation': 'Minu asukoht',\n            'closestPickup': 'Lähim pealevõtmispunkt: ',\n            'closestDropoff': 'Lähim peatumispunkt: ',\n            'orderCar': 'Telli auto',\n            'cancel': 'Tühista',\n            'driveToPickup': 'Auto sõidab pealevõtmispunkti.',\n            'arrivePickup': 'Auto on jõudnud pealevõtmispunkti.',\n            'areYouIn': 'Kas olete istunud autosse?',\n            'inCar': 'Jah, olen autos',\n            'speed': 'Auto kiirus: ',\n            'arriveDropoff': 'Auto on jõudnud sihtkohta.',\n            'areYouOut': 'Kas olete autost väljunud?',\n            'yes': 'Jah',\n            'rating': 'Kuidas hindate sõidukogemust?',\n            'noStopsErrorBoth': 'Valitud alguskoha ja sihtkoha lähedal ei leitud ühtegi peatust.',\n            'noStopsErrorPickup': 'Valitud alguskoha lähedal ei leitud ühtegi peatust.',\n            'noStopsErrorDropoff': 'Valitud sihtkoha lähedal ei leitud ühtegi peatust.',\n            'back': 'Tagasi',\n            'waitingForCar': 'Ootan auto ühendumist...',\n            'carConnected': 'Auto on ühendatud!',\n            'choosePickup': 'Vali pealevõtupunkt',\n            'chooseDropoff': 'Vali sihtpunkt',\n            'enterOrigAndDest': 'Vali alguskoht ja sihtkoht',\n            'enterSessionId': 'Sisesta sessiooni ID',\n            'validate': 'Edasi',\n            'incorrectFormatError': 'Sessiooni ID peab koosnema 6-st numbrist.',\n            'sessionNotFoundError': 'Sessiooni ei leitud. Palun kontrollige sessiooni ID-d.',\n            'sessionUnknownError': 'Tekkis tundmatu viga. Palun proovige uuesti.',\n            'attemptingToConnect': 'Ühendan...',\n            'endSession': 'Lõpeta sessioon',\n            'loadingMap': 'Laen kaarti...',\n            'endingMessage': 'Lõpetan sessiooni...',\n        }\n    },\n    currentLang: {},\n    waypoints: null, \n    sentBacktoSelection: false,\n    dropoffPosition: null,\n    pickupOptions: [],\n    dropoffOptions: [],\n    sessionId: null,\n    isSessionValid: false,\n    sessionValidationStatus: null,\n    geolocationWatcher: null,\n    mqttBridge: null,\n    stopFinder: null,\n});\nconst state = getDefaulState();\n\nstate.currentLang = state.locale[state.lang] || state.locale.en;\n\nconst getters = {\n    getMarkers: (state) => state.markers,\n    getUserLocation: (state) => state.userLocation,\n    getCarLocation: (state) => state.carLocation,\n    getIP: (state) => state.ip_address,\n    getOrigin: (state) => state.origin,\n    getDestination: (state) => state.destination,\n    getLang: (state) => state.lang,\n    getCurrentLang: (state) => state.currentLang,\n    getLocale: (state) => state.locale,\n    getWaypoints: (state) => state.waypoints,\n    getSentBacktoSelection: (state) => state.sentBacktoSelection,\n    getDropoffPosition: (state) => state.dropoffPosition,\n    getPickupOptions: (state) => state.pickupOptions,\n    getDropoffOptions: (state) => state.dropoffOptions,\n    getSessionValidationStatus: (state) => state.sessionValidationStatus,\n    getGeolocationWatcher: (state) => state.geolocationWatcher,\n    getMqttBridge: (state) => state.mqttBridge,\n    getStopFinder: (state) => state.stopFinder,\n    getSessionId: (state) => state.sessionId,\n}\n\nconst mutations = {\n    appendMarker (state, marker) {\n        state.markers.push(marker);\n    },\n    addUserLocation: (state, userLocation) => (state.userLocation = userLocation),\n    addCarLocation: (state, carLocation) => (state.carLocation = carLocation),\n    SET_IP: (state, ip_address) => (state.ip_address = ip_address),\n    addOrigin: (state, origin) => (state.origin = origin),\n    addDestination: (state, destination) => (state.destination = destination),\n    addLang: (state, lang) => {\n        state.lang = lang;\n        localStorage.setItem('lang', lang); // Save to localStorage\n    },\n    addCurrentLang: (state, currentLang) => (state.currentLang = currentLang),\n    setWaypoints: (state, waypoints) => (state.waypoints = waypoints), // <<== New mutation\n    addSentBacktoSelection: (state, sentBacktoSelection) => (state.sentBacktoSelection = sentBacktoSelection),\n    addDropoffPosition: (state, dropoffPosition) => (state.dropoffPosition = dropoffPosition),\n    addPickupOptions: (state, pickupOptions) => (state.pickupOptions = pickupOptions),\n    addDropoffOptions: (state, dropoffOptions) => (state.dropoffOptions = dropoffOptions),\n    addSessionValidationStatus: (state, sessionValidationStatus) => (state.sessionValidationStatus = sessionValidationStatus),\n    resetState(state) {\n        Object.assign(state, getDefaulState());\n    },\n    addSessionId: (state, sessionId) => (state.sessionId = sessionId),\n    addIsSessionValid: (state, isSessionValid) => (state.isSessionValid = isSessionValid),\n    addGeolocationWatcher: (state, geolocationWatcher) => (state.geolocationWatcher = geolocationWatcher),\n    addMqttBridge: (state, mqttBridge) => (state.mqttBridge = mqttBridge),\n    addStopFinder: (state, stopFinder) => (state.stopFinder = stopFinder),\n}\n\nconst actions = {\n    async addMarker(state, marker) {\n        state.commit('appendMarker', marker)\n    },\n    async setUserLocation({ commit }, userLocation) {\n        commit('addUserLocation', userLocation)\n    },\n    async setCarLocation({ commit }, carLocation) {\n        commit('addCarLocation', carLocation)\n    },\n    async setIP({ commit }, ip_address) {\n        commit('SET_IP', ip_address)\n    },\n    async setOrigin({ commit }, origin) {\n        commit('addOrigin', origin)\n    },\n    async setDestination({ commit }, destination) {\n        commit('addDestination', destination)\n    },\n    async setLang({ commit }, lang) {\n        commit('addLang', lang)\n    },\n    async setCurrentLang({ commit }, currentLang) {\n        commit('addCurrentLang', currentLang)\n    },\n    async fetchWaypoints({ commit }) {\n        const waypoints = state.mqttBridge.getWaypoints();\n        commit('setWaypoints', waypoints);\n        \n    },\n    async nullWaypoints({ commit }) {\n        commit('setWaypoints', null);\n        state.mqttBridge.nullWaypoints();\n    },\n    async setSentBacktoSelection({ commit }, sentBacktoSelection) {\n        commit('addSentBacktoSelection', sentBacktoSelection)\n    },\n    async setDropoffPosition({ commit }, dropoffPosition) {\n        commit('addDropoffPosition', dropoffPosition)\n    },\n    async setPickupOptions({ commit }, pickupOptions) {\n        commit('addPickupOptions', pickupOptions)\n    },\n    async setDropoffOptions({ commit }, dropoffOptions) {\n        commit('addDropoffOptions', dropoffOptions)\n    },\n    async setSessionValidationStatus({ commit }, sessionValidationStatus) {\n        commit('addSessionValidationStatus', sessionValidationStatus)\n    },\n    async resetStateToDefault({ commit }) {\n        commit('addCurrentLang', state.locale[state.lang] || state.locale.en);\n    },\n    async setSessionId({ commit }, sessionId) {\n        commit('addSessionId', sessionId)\n    },\n    async setIsSessionValid({ commit }, isSessionValid) {\n        commit('addIsSessionValid', isSessionValid)\n    },\n    async setGeolocationWatcher({ commit }, geolocationWatcher) {\n        commit('addGeolocationWatcher', geolocationWatcher)\n    },\n    async setMqttBridge({ commit }, mqttBridge) {\n        commit('addMqttBridge', mqttBridge)\n    },\n    async setStopFinder({ commit }, stopFinder) {\n        commit('addStopFinder', stopFinder)\n    }\n}\nexport default new Vuex.Store({\n    state,\n    getters,\n    mutations,\n    actions\n})","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isReady && !_vm.endingSession)?_c('div',{staticClass:\"my-container\"},[(_vm.getLang === 'en')?_c('img',{staticClass:\"languageButton\",attrs:{\"src\":require(\"../assets/estonia.png\")},on:{\"click\":_vm.changeLang}}):_vm._e(),(_vm.getLang === 'est')?_c('img',{staticClass:\"languageButton\",attrs:{\"src\":require(\"../assets/united-kingdom.png\")},on:{\"click\":_vm.changeLang}}):_vm._e(),_c('button',{staticClass:\"end-session-button\",on:{\"click\":_vm.endSession}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.endSession)+\" \")])]),_c('GmapMap',{style:({ width: _vm.width + '%', height: _vm.height + 'px' }),attrs:{\"map-type-id\":_vm.mapType,\"center\":_vm.center,\"zoom\":_vm.zoom,\"options\":_vm.mapOptions}},[_c('GmapMarker',{attrs:{\"position\":_vm.getUserLocation.position,\"icon\":{ url: require('../assets/bluecircle.png')}}}),_c('GmapMarker',{attrs:{\"position\":_vm.getCarLocation,\"icon\":{ url: require('../assets/carmarker.png')}}})],1),_c('router-link',{staticClass:\"address-box\",attrs:{\"to\":\"/destinationSearch\",\"placeholder\":_vm.$store.state.currentLang.whereTo,\"tag\":\"input\"}})],1):_c('div',{staticClass:\"my-container\"},[(!_vm.endingSession)?_c('p',{staticClass:\"map-message\"},[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.loadingMap)+\" \")]):_c('p',{staticClass:\"map-message\"},[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.endingMessage)+\" \")]),_c('div',{staticClass:\"loader\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"isReady && !endingSession\" class=\"my-container\">\n        <img v-if=\"getLang === 'en'\" @click=\"changeLang\" class=\"languageButton\" src=\"../assets/estonia.png\" />\n        <img v-if=\"getLang === 'est'\" @click=\"changeLang\" class=\"languageButton\" src=\"../assets/united-kingdom.png\" />\n        <button @click=\"endSession\" class=\"end-session-button\">\n            <p> {{ $store.state.currentLang.endSession }} </p>\n        </button>\n        <GmapMap :map-type-id='mapType' :center=\"center\" :zoom='zoom' :style= \"{ width: width + '%', height: height + 'px' }\" :options='mapOptions'>\n            <GmapMarker :position=\"getUserLocation.position\" :icon=\"{ url: require('../assets/bluecircle.png')}\" />\n            <GmapMarker :position=\"getCarLocation\" :icon=\"{ url: require('../assets/carmarker.png')}\"/>\n        </GmapMap>\n        <router-link to=\"/destinationSearch\" class=\"address-box\" :placeholder=$store.state.currentLang.whereTo tag=\"input\"></router-link>\n    </div>\n    <div v-else class=\"my-container\">\n        <p v-if=\"!endingSession\" class=\"map-message\"> {{ $store.state.currentLang.loadingMap }} </p>\n        <p v-else class=\"map-message\"> {{ $store.state.currentLang.endingMessage }} </p>\n        <div class=\"loader\"></div> \n    </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n    name: 'Map',\n    \n    data() {\n        return {\n            center: { lat: 58.379717565420194, lng: 26.72276002855532 },\n            zoom: 15,\n            mapType: 'roadmap',\n            mapOptions: {zoomControl: false, fullscreenControl: false, streetViewControl: false, mapTypeControl: false, preserveViewport: true },\n            markers: [],\n            height: 0,\n            width: 100,\n            endingSession: false,\n        }\n    },\n\n    computed: {\n        ...mapGetters(['getMarkers', 'getUserLocation', 'getGeolocationWatcher','getCarLocation', 'getLang', 'getCurrentLang', 'getMqttBridge']),\n        isReady() {\n            return this.getUserLocation && this.getCarLocation;\n        },\n    },\n\n    methods: {\n        ...mapActions(['addMarker', 'setLang', 'setCurrentLang', 'setGeolocationWatcher', 'setIsSessionValid', 'setSessionID']),\n\n        changeLang: function() {\n            if (this.getLang === 'est') {\n                this.setLang('en');\n                this.setCurrentLang(this.$store.state.locale.en);\n            }\n            else {\n                this.setLang('est');\n                this.setCurrentLang(this.$store.state.locale.est);\n            }\n        },\n\n        endSession: function() {\n            this.endingSession = true;\n            navigator.geolocation.clearWatch(this.getGeolocationWatcher);\n            this.getMqttBridge.disconnect();\n            this.$store.dispatch('resetStateToDefault');\n            this.setGeolocationWatcher(undefined);\n            this.setIsSessionValid(false);\n\n            // Remove query parameters before the hash from the URL\n            const newUrl = `${window.location.origin}${window.location.pathname}${window.location.hash}`;\n            window.history.replaceState({}, '', newUrl);\n\n            this.$router.push('/');\n        },\n    },\n\n    watch: {\n        isReady: function(newVal) {\n            if (!newVal) {\n                this.height = window.innerHeight; \n            }\n            else {\n                this.height = window.innerHeight - 70;\n                this.center = this.getUserLocation.position;\n            }\n        }\n    },\n\n    created: function() {\n        this.height = window.innerHeight - 70;\n        if (this.getUserLocation) {\n            this.center = this.getUserLocation.position;\n        }\n    },\n}\n</script>\n\n<style scoped>\n    ::placeholder {\n        color: black;\n    }\n\n    .my-container {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n    .address-box {\n        width: calc(100% - 20px);\n        height: 50px;\n        border-radius: 8px;\n        font-size: 100%;\n        margin-top: 10px;\n        padding-left: 10px;\n        padding-right: 10px;\n        background-color: #eee;\n        border: #eee\n    }\n\n    .languageButton {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        z-index: 1;\n        height: 25px;\n        width: 25px;\n        cursor: pointer;\n    }\n\n    .end-session-button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        font-size: 16px;\n\n        position: absolute;\n        top: 10px;\n        left: 15px;\n        z-index: 1;\n        height: 40px;\n        width: 140px;\n        cursor: pointer;\n        background-color: #007bff;\n        color: white;\n        border: none;\n        border-radius: 5px;\n    }\n    .end-session-button:hover {\n        background-color: #0056b3;\n    }\n\n    .map-message {\n        margin-top: 20px;\n        font-size: 20px;\n    }\n    .loader {\n        border: 16px solid #adadad; /* Light grey */\n        border-top: 16px solid #2987c5; /* Blue */\n        border-radius: 50%;\n        width: 60px;\n        height: 60px;\n        animation: spin 2s linear infinite;\n        margin-top: 10px;\n    }\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=6b4aaa3f&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=6b4aaa3f&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b4aaa3f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-container\"},[_c('div',{ref:\"box\",staticClass:\"box\"},[(_vm.noStopsFound)?_c('div',{staticClass:\"noStopsContainer\"},[_c('h3',{staticClass:\"textClass\"},[(_vm.getOrigin.error && _vm.getDestination.error)?[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.noStopsErrorBoth)+\" \")]:(_vm.getOrigin.error)?[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.noStopsErrorPickup)+\" \")]:(_vm.getDestination.error)?[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.noStopsErrorDropoff)+\" \")]:_vm._e()],2),_c('button',{staticClass:\"button red\",attrs:{\"tag\":\"button\"},on:{\"click\":_vm.backClicked}},[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.back)+\" \")])]):(_vm.selectedPickup && _vm.selectedDropoff)?_c('div',{staticClass:\"dropdown-container\"},[_c('div',{staticClass:\"dropdowns\"},[_c('h3',{staticClass:\"textClass dropdownInfo\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.choosePickup))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedPickup),expression:\"selectedPickup\"}],staticClass:\"dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedPickup=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.pickupOptions),function(stop,index){return _c('option',{key:index,domProps:{\"value\":stop}},[_vm._v(\" \"+_vm._s(stop.name)+\" \")])}),0),_c('h3',{staticClass:\"textClass dropdownInfo\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.chooseDropoff))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedDropoff),expression:\"selectedDropoff\"}],staticClass:\"dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedDropoff=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.dropoffOptions),function(stop,index){return _c('option',{key:index,domProps:{\"value\":stop}},[_vm._v(\" \"+_vm._s(stop.name)+\" \")])}),0)]),_c('button',{staticClass:\"button green\",on:{\"click\":_vm.orderCartoUser}},[_vm._v(_vm._s(_vm.$store.state.currentLang.orderCar))]),_c('button',{staticClass:\"button red\",attrs:{\"tag\":\"button\"},on:{\"click\":_vm.cancelClicked}},[_vm._v(_vm._s(_vm.$store.state.currentLang.cancel))])]):_vm._e()]),_c('GmapMap',{style:({ width: _vm.width + '%', height: _vm.height + 'px' }),attrs:{\"map-type-id\":_vm.mapType,\"center\":_vm.center,\"zoom\":_vm.zoom,\"options\":_vm.mapOptions}},[_c('GmapMarker',{attrs:{\"position\":_vm.getUserLocation.position,\"icon\":{ url: require('../assets/bluecircle.png')}}}),_c('GmapMarker',{attrs:{\"position\":_vm.getCarLocation,\"icon\":{ url: require('../assets/carmarker.png')}}}),(!_vm.noStopsFound && _vm.selectedPickup && _vm.selectedDropoff)?_c('div',[_vm._l((_vm.pickupOptions),function(pickup,index){return _c('GmapMarker',{key:'pickup-' + index,attrs:{\"position\":pickup.position,\"icon\":{ \n                    url: require('../assets/origin.svg'), \n                    scaledSize: { width: 40, height: 50 }, \n                    anchor: { x: 20, y: 25 } \n                },\"zIndex\":1000,\"opacity\":pickup === _vm.selectedPickup ? 1 : 0.5,\"clickable\":pickup !== _vm.selectedPickup},on:{\"click\":function($event){return _vm.onPickupMarkerClick(pickup)}}})}),_vm._l((_vm.dropoffOptions),function(dropoff,index){return _c('GmapMarker',{key:'dropoff-' + index,attrs:{\"position\":dropoff.position,\"icon\":{ \n                    url: require('../assets/flag.svg'), \n                    scaledSize: { width: 40, height: 50 }, \n                    anchor: { x: 5, y: 45 } \n                },\"zIndex\":1000,\"opacity\":dropoff === _vm.selectedDropoff ? 1 : 0.5,\"clickable\":dropoff !== _vm.selectedDropoff},on:{\"click\":function($event){return _vm.onDropoffMarkerClick(dropoff)}}})})],2):_vm._e(),(!_vm.noStopsFound && _vm.selectedPickup && _vm.selectedDropoff)?_c('DirectionsRenderer',{attrs:{\"travelMode\":\"DRIVING\",\"origin\":_vm.selectedPickup.position,\"destination\":_vm.selectedDropoff.position,\"suppressMarkers\":true}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { MapElementFactory } from \"vue2-google-maps\";\n\nexport default MapElementFactory({\n    name: \"directionsRenderer\",\n    ctr() {\n        return window.google.maps.DirectionsRenderer;\n    },\n    events: [],\n    mappedProps: {},\n    props: {\n        origin: { type: [Object, Array] },\n        destination: { type: [Object, Array] },\n        waypoints: { type: Array, default: () => [] }, // Array of intermediate points\n        travelMode: { type: String },\n        suppressMarkers: { type: Boolean },\n        onDirectionsSet: { type: Function },  // Callback for after directions are set\n    },\n    afterCreate(directionsRenderer) {\n        let directionsService = new window.google.maps.DirectionsService();\n        this.$watch(\n            () => [\n                this.origin,\n                this.destination,\n                this.waypoints,\n                this.travelMode,\n                this.suppressMarkers,\n            ],\n            () => {\n                let { origin, destination, waypoints, travelMode, suppressMarkers } = this;\n                if (!origin || !destination || !travelMode) return;\n                directionsService.route(\n                    {\n                        origin,\n                        destination,\n                        waypoints: waypoints.map(point => ({ location: point, stopover: true })), // Add waypoints\n                        travelMode,\n                    },\n                    (response, status) => {\n                        if (status !== \"OK\" || !response || !response.routes || !response.routes[0]) return;\n                        if (suppressMarkers === true) \n                            directionsRenderer.setOptions({\n                                suppressMarkers: true,\n                                preserveViewport: true,\n                            });\n                        directionsRenderer.setDirections(response);\n\n                        // Get the bounds directly from the route\n                        const bounds = response.routes[0].bounds;\n\n                        // Calculate the zoom level based on the bounds of the path\n                        const map = directionsRenderer.getMap();\n                        if (!map) return; // Ensure the map is available\n                        map.fitBounds(bounds);  // Automatically centers the map\n                    }\n                );\n            },\n            { immediate: true }\n        );\n    },\n});\n","<template>\n    <div class=\"my-container\">\n        <div class=\"box\" ref=\"box\">\n            <!-- If no stops are found, show specific error messages -->\n            <div class=\"noStopsContainer\" v-if=\"noStopsFound\">\n                <h3 class=\"textClass\">\n                    <template v-if=\"getOrigin.error && getDestination.error\">\n                        {{$store.state.currentLang.noStopsErrorBoth}}\n                    </template>\n                    <template v-else-if=\"getOrigin.error\">\n                        {{$store.state.currentLang.noStopsErrorPickup}}\n                    </template>\n                    <template v-else-if=\"getDestination.error\">\n                        {{$store.state.currentLang.noStopsErrorDropoff}}\n                    </template>\n                </h3>\n                <button @click=\"backClicked\" class=\"button red\" tag=\"button\"> {{$store.state.currentLang.back}} </button>\n            </div>\n\n            <!-- If stops are found, show dropdowns for pickup and dropoff -->\n            <div v-else-if=\"selectedPickup && selectedDropoff\" class=\"dropdown-container\">\n                <div class=\"dropdowns\">\n                    <h3 class=\"textClass dropdownInfo\">{{$store.state.currentLang.choosePickup}}</h3>\n                    <select v-model=\"selectedPickup\" class=\"dropdown\">\n                        <option v-for=\"(stop, index) in pickupOptions\" :key=\"index\" :value=\"stop\">\n                            {{ stop.name }}\n                        </option>\n                    </select>\n\n                    <h3 class=\"textClass dropdownInfo\">{{$store.state.currentLang.chooseDropoff}}</h3>\n                    <select v-model=\"selectedDropoff\" class=\"dropdown\">\n                        <option v-for=\"(stop, index) in dropoffOptions\" :key=\"index\" :value=\"stop\">\n                            {{ stop.name }}\n                        </option>\n                    </select>\n                </div>\n                \n                <button class=\"button green\" @click=\"orderCartoUser\">{{$store.state.currentLang.orderCar}}</button>\n                <button @click=\"cancelClicked\" class=\"button red\" tag=\"button\">{{$store.state.currentLang.cancel}}</button>\n            </div>\n        </div>\n        <GmapMap \n            :map-type-id='mapType' \n            :center='center' \n            :zoom='zoom' \n            :style=\"{ width: width + '%', height: height + 'px' }\" \n            :options='mapOptions'\n        >\n            <!-- Markers -->\n            <GmapMarker :position=\"getUserLocation.position\" :icon=\"{ url: require('../assets/bluecircle.png')}\" />\n            <GmapMarker :position=\"getCarLocation\" :icon=\"{ url: require('../assets/carmarker.png')}\" />\n            <div v-if=\"!noStopsFound && selectedPickup && selectedDropoff\">\n                <GmapMarker \n                    v-for=\"(pickup, index) in pickupOptions\" \n                    :key=\"'pickup-' + index\" \n                    :position=\"pickup.position\" \n                    :icon=\"{ \n                        url: require('../assets/origin.svg'), \n                        scaledSize: { width: 40, height: 50 }, \n                        anchor: { x: 20, y: 25 } \n                    }\" \n                    :zIndex=\"1000\" \n                    :opacity=\"pickup === selectedPickup ? 1 : 0.5\" \n                    :clickable=\"pickup !== selectedPickup\" \n                    @click=\"onPickupMarkerClick(pickup)\"\n                />\n\n                <GmapMarker \n                    v-for=\"(dropoff, index) in dropoffOptions\" \n                    :key=\"'dropoff-' + index\" \n                    :position=\"dropoff.position\" \n                    :icon=\"{ \n                        url: require('../assets/flag.svg'), \n                        scaledSize: { width: 40, height: 50 }, \n                        anchor: { x: 5, y: 45 } \n                    }\" \n                    :zIndex=\"1000\" \n                    :opacity=\"dropoff === selectedDropoff ? 1 : 0.5\" \n                    :clickable=\"dropoff !== selectedDropoff\" \n                    @click=\"onDropoffMarkerClick(dropoff)\"\n                />\n            </div>\n            \n            <DirectionsRenderer \n                v-if=\"!noStopsFound && selectedPickup && selectedDropoff\"\n                travelMode=\"DRIVING\" \n                :origin=\"selectedPickup.position\" \n                :destination=\"selectedDropoff.position\" \n                :suppressMarkers=\"true\" \n            />\n        </GmapMap>\n    </div> \n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport DirectionsRenderer from './DirectionsRenderer.js';\n\nexport default {\n    name: 'Confirm',\n    components: {\n        DirectionsRenderer\n    },\n    data() {\n        return {\n            center: { lat: 58.379717565420194, lng: 26.72276002855532 },\n            currentPlace: null,\n            zoom: 13,\n            mapType: 'roadmap',\n            mapOptions: {zoomControl: false, fullscreenControl: false, streetViewControl: false, mapTypeControl: false, preserveViewport: true},\n            userLocation: null,\n            height: 0,\n            width: 100,\n            pickupOptions: [], // List of pickup options (primary + secondary stops)\n            dropoffOptions: [], // List of dropoff options (primary + secondary stops)\n            selectedPickup: null, // Selected pickup stop\n            selectedDropoff: null // Selected dropoff stop\n        }\n    },\n    computed: {\n        ...mapGetters(['getDestination', 'getOrigin', 'getCarLocation', 'getUserLocation', 'getIP', 'getWaypoints', 'getPickupOptions', 'getDropoffOptions', 'getMqttBridge']),\n        // If getWaypoints array exists and is not empty, we consider custom route active.\n        hasCustomWaypoints() {\n            return this.getWaypoints && this.getWaypoints.length > 0;\n        },\n        // Check if no stops were found\n        noStopsFound() {\n            return this.getOrigin.error || this.getDestination.error;\n        }\n    },\n    methods: {\n        ...mapActions(['setDestination', 'setOrigin', 'setSentBacktoSelection', 'setDropoffPosition']),\n        backClicked() {\n            this.setSentBacktoSelection(true);\n            this.$router.push(\"/destinationSearch\");\n        },\n        cancelClicked() {\n            this.setSentBacktoSelection(true);\n            this.$router.push(\"/destinationSearch\");\n        },\n        onPickupMarkerClick(pickup) {\n            if (pickup !== this.selectedPickup) {\n                this.selectedPickup = pickup;\n            }\n        },\n        onDropoffMarkerClick(dropoff) {\n            if (dropoff !== this.selectedDropoff) {\n                this.selectedDropoff = dropoff;\n            }\n        },\n        orderCartoUser() {\n            let publishedData = {\n                lat: this.selectedPickup.position.lat,\n                lng: this.selectedPickup.position.lng,\n                height: this.selectedPickup.position.height\n            }\n            this.getMqttBridge.publishGoal(publishedData);\n            \n            \n            //Store dropoff in Vuex store\n            this.setDropoffPosition(publishedData);\n\n            // Set the selected pickup and dropoff in Vuex store\n            this.setOrigin(this.selectedPickup);\n            this.setDestination(this.selectedDropoff);\n\n            this.$router.push('/driveOrigin');\n        },\n    },\n    created() {\n        this.height = window.innerHeight;\n        this.pickupOptions = this.getPickupOptions;\n        this.dropoffOptions = this.getDropoffOptions;\n\n        this.selectedPickup = this.pickupOptions[0] || null;\n        this.selectedDropoff = this.dropoffOptions[0] || null;\n    },\n    beforeDestroy() {\n        clearInterval(this.intervalId);\n    }\n\n}\n</script>\n\n<style scoped>\n    .my-container {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        height: 100vh;\n        overflow: hidden;\n    }\n\n    .box {\n        width: 100%;\n        box-sizing: border-box;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        border-radius: 10px;\n        background-color: lightgray;\n    }\n\n    .noStopsContainer {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        margin: 10px;\n        margin-bottom: 15px;\n    }\n\n    .button {\n        position: relative;\n        border: 10px;\n        color: white;\n        padding: 15px 32px;\n        text-align: center;\n        text-decoration: none;\n        font-size: 16px;\n        cursor: pointer;\n        margin: 10px;\n        width: 40%;\n        max-width: 400px;\n        border-radius: 25px;\n        background-color: var(--button-background-color);\n    }\n\n    .button.green {\n        --button-background-color: #00C679;\n    }\n\n    .button.green:hover {\n        --button-background-color: #018f01;\n    }\n\n    .button.red {\n        --button-background-color: red;\n    }\n\n    .button.red:hover {\n        --button-background-color: darkred;\n    }\n\n    .dropdown-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        margin: 5px;\n        margin-bottom: 15px;\n    }\n\n    .dropdowns {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        margin: 5px;\n        margin-bottom: 15px;\n    }\n\n    .dropdown {\n        width: 80%;\n        max-width: 600px;\n        padding: 10px;\n        margin: 5px;\n        border-radius: 5px;\n        border: 1px solid #ccc;\n        font-size: 16px;\n        background-color: white;\n        cursor: pointer;\n    }\n\n    .dropdown option {\n        padding: 10px;\n        font-size: 16px;\n        background-color: white;\n        color: black;\n        cursor: pointer;\n    }\n\n    .dropdown option:hover {\n        background-color: #f0f0f0;\n    }\n\n    .textClass.dropdownInfo {\n        margin-bottom: 5px;\n    }\n\n    @media screen and (min-width: 601px) {\n        .textClass {\n            font-size: 20px;\n            font-family: 'Roboto', sans-serif;\n        }\n    }\n\n    @media screen and (max-width: 600px) and (min-width: 451px) {\n        .textClass {\n            font-size: 17px;\n            font-family: 'Roboto', sans-serif;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n    }\n\n    @media screen and (max-width: 450px) {\n        .textClass {\n            font-size: 15px;\n            font-family: 'Roboto', sans-serif;\n            word-wrap: break-word;\n            white-space: normal;\n            text-align: center;\n            padding: 5px;\n            padding-left: 10px;\n            padding-right: 10px;\n        }\n    }\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=2b48b7dc&scoped=true\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js\"\nimport style0 from \"./Confirm.vue?vue&type=style&index=0&id=2b48b7dc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b48b7dc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"v1_6\"},[_c('div',{staticClass:\"v1_5\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.enterOrigAndDest))]),_c('div',{staticClass:\"v1_4\"},[_c('b-icon',{attrs:{\"icon\":\"x-circle\",\"font-scale\":\"3\"},on:{\"click\":_vm.goBack}})],1)]),_c('div',{staticClass:\"my-container\"},[_c('GmapAutocomplete',{staticClass:\"address-box\",attrs:{\"id\":\"originBox\",\"placeholder\":_vm.$store.state.currentLang.enterOrig,\"options\":_vm.autoCompleteOptions},on:{\"focus\":_vm.showButton,\"place_changed\":_vm.setOriginPlace}}),_c('GmapAutocomplete',{staticClass:\"address-box\",attrs:{\"id\":\"destinationBox\",\"placeholder\":_vm.$store.state.currentLang.enterDest,\"options\":_vm.autoCompleteOptions},on:{\"focus\":_vm.hideButton,\"place_changed\":_vm.setDestinationPlace}}),(_vm.showLocationButton)?_c('div',{staticClass:\"pac-item\",on:{\"click\":_vm.useMyLocation}},[_c('span',{staticClass:\"pac-icon pac-icon-marker\"}),_c('span',{staticClass:\"pac-item-query\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.myLocation))])]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"v1_6\">\n            <div class=\"v1_5\">{{$store.state.currentLang.enterOrigAndDest}}</div>\n            <div class=\"v1_4\">\n                <b-icon @click=\"goBack\" icon=\"x-circle\" font-scale=\"3\"></b-icon>\n            </div>\n        </div>\n        <div class=\"my-container\">\n            <GmapAutocomplete id=\"originBox\" :placeholder=$store.state.currentLang.enterOrig class=\"address-box\" @focus=\"showButton\" @place_changed='setOriginPlace' :options=\"autoCompleteOptions\" />\n            <GmapAutocomplete id=\"destinationBox\" :placeholder=$store.state.currentLang.enterDest class=\"address-box\" @focus=\"hideButton\" @place_changed='setDestinationPlace' :options=\"autoCompleteOptions\" />\n            <div class=\"pac-item\" @click=\"useMyLocation\" v-if=\"showLocationButton\">\n                <span class=\"pac-icon pac-icon-marker\"></span>\n                    <span class=\"pac-item-query\">{{$store.state.currentLang.myLocation}}</span>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n    name: 'DestinationSearch',\n    data() {\n        return {\n            center: { lat: 58.379717565420194, lng: 26.72276002855532 },\n            currentPlace: null,\n            zoom: 12,\n            mapType: 'roadmap',\n            mapOptions: {zoomControl: false, fullscreenControl: false, streetViewControl: false, mapTypeControl: false, preserveViewport: true },\n            userLocation: null,\n            showLocationButton: false,\n            autoCompleteOptions: {\n                componentRestrictions: {\n                    country: ['ee']\n                }\n            },\n            pacobserver: null,\n            stopFinder: null,\n        }\n    },\n    \n    computed: {\n        ...mapGetters(['getMarkers', 'getUserLocation', 'getCarLocation', 'getIP', 'getOrigin', 'getDestination', 'getSentBacktoSelection', 'getStopFinder']),\n    },\n\n    methods: {\n        ...mapActions(['setDestination', 'setOrigin', 'setSentBacktoSelection', 'setPickupOptions', 'setDropoffOptions']),\n        showButton: function() {\n            this.showLocationButton = true;\n        },\n\n        hideButton: function() {\n            this.showLocationButton = false;\n        },\n\n        goBack: function() {\n            this.$router.push('/map');\n        },\n\n        useMyLocation: function() {\n            const closestStops = this.stopFinder.findClosestStops([\n                this.getUserLocation.position.lat,\n                this.getUserLocation.position.lng,\n            ]);\n\n            if (closestStops && closestStops.length > 0) {\n                this.setOrigin({\n                    name: closestStops[0].name,\n                    searchedName: this.$store.state.currentLang.myLocation,\n                    position: closestStops[0].position,\n                });\n                this.setPickupOptions(closestStops);\n            } else {\n                this.setOrigin({\n                    position: 'not_found',\n                    searchedName: this.$store.state.currentLang.myLocation,\n                    error: true,\n                });\n                this.setPickupOptions([]);\n            }\n            document.getElementById('originBox').value=this.$store.state.currentLang.myLocation;\n            this.showLocationButton = false;\n        },\n\n        setOriginPlace(place) {\n            const originBox = document.getElementById('originBox');\n            originBox.style.border = '#eee'; \n\n            this.markers = []\n            this.currentPlace = place;\n\n            if (!this.currentPlace || !this.currentPlace.geometry || !this.currentPlace.geometry.location) {\n                return;\n            }\n\n            const marker = {\n                lat: this.currentPlace.geometry.location.lat(),\n                lng: this.currentPlace.geometry.location.lng(),\n            };\n\n            this.markers.push({ position: marker })\n            this.currentPlace = null;\n\n            const closestStops = this.stopFinder.findClosestStops([marker.lat, marker.lng]);\n            if (closestStops && closestStops.length > 0) {\n                this.setOrigin({\n                    name: closestStops[0].name,\n                    searchedName: originBox.value,\n                    position: closestStops[0].position,\n                });\n                this.setPickupOptions(closestStops);\n            } else {\n                this.setOrigin({\n                    position: 'not_found',\n                    searchedName: originBox.value,\n                    error: true,\n                });\n                this.setPickupOptions([]);\n            }\n        },\n\n        setDestinationPlace(place) {\n            const destinationBox = document.getElementById('destinationBox');\n            destinationBox.style.border = '#eee'; \n\n            this.markers = []\n            this.currentPlace = place;\n\n            if (!this.currentPlace || !this.currentPlace.geometry || !this.currentPlace.geometry.location) {\n                return;\n            }\n\n            const marker = {\n                lat: this.currentPlace.geometry.location.lat(),\n                lng: this.currentPlace.geometry.location.lng(),\n            };\n\n            this.markers.push({ position: marker })\n            this.currentPlace = null;\n\n            const closestStops = this.stopFinder.findClosestStops([marker.lat, marker.lng]);\n            if (closestStops && closestStops.length > 0) {\n                this.setDestination({\n                    name: closestStops[0].name,\n                    searchedName: destinationBox.value,\n                    position: closestStops[0].position,\n                });\n                this.setDropoffOptions(closestStops);\n            } else {\n                this.setDestination({\n                    position: 'not_found',\n                    searchedName: destinationBox.value,\n                    error: true,\n                });\n                this.setDropoffOptions([]);\n            }\n        },\n    },\n    created: function() {\n        if (!this.getSentBacktoSelection) {\n            this.setDestination(null);\n            this.setOrigin(null);\n        }\n    },\n    mounted() {\n        let updateScheduled = false;\n        this.stopFinder = this.getStopFinder;\n        const adjustPacContainers = () => {\n            const pacs = document.getElementsByClassName('pac-container');\n            for (let i = 0; i < pacs.length; i++) {\n                const pac = pacs[i];\n\n                const isVisible = pac.style.display !== 'none';\n\n                if (isVisible) {\n                    if (this.showLocationButton && pac.style.getPropertyValue('top') !== '280px')\n                        pac.style.setProperty('top', '280px', 'important');\n                    else if (!this.showLocationButton && pac.style.getPropertyValue('top') !== '230px')\n                        pac.style.setProperty('top', '230px', 'important');\n                }\n            }\n            updateScheduled = false;\n        }\n\n        // Start observing mutations on the body (Google injects .pac-container into <body>)\n        const observer = new MutationObserver(() => {\n            if (!updateScheduled) {\n                updateScheduled = true;\n                requestAnimationFrame(adjustPacContainers);\n            }\n        });\n        observer.observe(document.body, {\n            childList: true,      // Watch for added/removed children\n            subtree: true,        // Watch entire DOM subtree\n            attributes: true,     // Watch style/display changes\n            attributeFilter: ['style', 'class'] // Only care about changes to style/class\n        });\n        this.pacObserver = observer;\n\n\n        if (this.getSentBacktoSelection) {\n\n            const originBox = document.getElementById('originBox');\n            originBox.value = this.getOrigin.searchedName; \n            if (this.getOrigin.error) {\n                originBox.style.border = '2px solid red';\n                this.setOrigin(null);\n            } else {\n                originBox.style.border = '#eee'; \n            }\n            \n            const destinationBox = document.getElementById('destinationBox');\n            destinationBox.value = this.getDestination.searchedName; \n            if (this.getDestination.error) {\n                destinationBox.style.border = '2px solid red'; \n                this.setDestination(null);\n            } else {\n                destinationBox.style.border = '#eee'; \n            }\n\n            this.setSentBacktoSelection(false);\n        }\n    },\n\n    watch: {\n        '$store.state.destination.position': function () {\n            if (this.getDestination !== null && this.getOrigin !== null && !this.getSentBacktoSelection) {\n                this.$router.push('/confirm');\n            }\n        },\n\n        '$store.state.origin.position': function () {\n            if (this.getDestination !== null && this.getOrigin !== null && !this.getSentBacktoSelection) {\n                this.$router.push('/confirm');\n            }\n        },\n    },\n    beforeDestroy() {\n        if (this.pacobserver) {\n            this.pacobserver.disconnect();\n            this.pacObserver = null;\n        }\n    },\n}\n</script>\n\n<style scoped>\n    .my-container {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        margin-top: 5px;\n    }\n\n    .address-box {\n        width: calc(100% - 30px);\n        height: 50px;\n        border-radius: 8px;\n        font-size: 100%;\n        margin-bottom: 10px;\n        background-color: #eee;\n        border: #eee;\n        padding-left: 10px;\n        padding-right: 10px;\n        font-family:'Roboto';\n    }\n\n    .locationButton {\n        position: relative;\n        border: 10px;\n        color: white;\n        padding: 15px 32px;\n        text-align: center;\n        text-decoration: none;\n        font-size: 16px;\n        cursor: pointer;\n        margin: 5px;\n        width: 100%;\n        border-radius: 10px;\n        background-color: #00C679;\n    }\n\n    .v1_6 {\n        width: 100%;\n        height: 100px;\n        background: rgba(255,255,255,1);\n        position: relative;\n        top: 0px;\n        left: 0px;\n        overflow: hidden;\n        display: flex;\n        align-items: center; \n        justify-content: center;\n    }\n    .v1_5 {\n        width: 50%;\n        color: rgba(0,0,0,1);\n        font-size: 24px;\n        text-align: center;\n    }\n    .v1_4 {\n        position: absolute;\n        display: flex; \n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        left: 10px;\n    }\n\n    .pac-item{\n        width: calc(100% - 20px);\n    }\n\n</style>\n\n<style>\n    .pac-item {\n        height: 50px !important;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DestinationSearch.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DestinationSearch.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DestinationSearch.vue?vue&type=template&id=875a6106&scoped=true\"\nimport script from \"./DestinationSearch.vue?vue&type=script&lang=js\"\nexport * from \"./DestinationSearch.vue?vue&type=script&lang=js\"\nimport style0 from \"./DestinationSearch.vue?vue&type=style&index=0&id=875a6106&prod&scoped=true&lang=css\"\nimport style1 from \"./DestinationSearch.vue?vue&type=style&index=1&id=875a6106&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"875a6106\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-container\"},[(_vm.carHasArrived)?_c('div',{staticClass:\"box\"},[_c('h3',{staticClass:\"textClass\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.arriveDropoff))]),_c('h3',{staticClass:\"textClass\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.areYouOut))]),_c('button',{staticClass:\"button green\",on:{\"click\":_vm.endDrive}},[_vm._v(_vm._s(_vm.$store.state.currentLang.yes))])]):_c('div',{staticClass:\"box\",staticStyle:{\"height\":\"60px\"}},[_c('h3',{staticClass:\"textClass\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.speed)+_vm._s(_vm.velocity)+\" km/h\")])]),_c('GmapMap',{ref:\"mapRef\",style:({ width: _vm.width + '%', height: _vm.height + 'px' }),attrs:{\"map-type-id\":_vm.mapType,\"center\":_vm.center,\"zoom\":_vm.zoom,\"options\":_vm.mapOptions}},[_c('GmapMarker',{attrs:{\"position\":_vm.getCarLocation,\"icon\":{ url: require('../assets/carmarker.png')}}}),_c('GmapMarker',{attrs:{\"position\":_vm.getDestination.position}}),(!_vm.carHasArrived && _vm.hasCustomWaypoints)?_c('GmapPolyline',{attrs:{\"path\":_vm.completedPath,\"options\":{ strokeColor: '#0000FF', strokeOpacity: 1.0, strokeWeight: 4 }}}):_vm._e(),(!_vm.carHasArrived && _vm.hasCustomWaypoints)?_c('GmapPolyline',{attrs:{\"path\":_vm.remainingPath,\"options\":{ strokeColor: '#FF0000', strokeOpacity: 1.0, strokeWeight: 4 }}}):(!_vm.carHasArrived && _vm.getCarLocation && _vm.getDestination.position)?_c('DirectionsRenderer',{attrs:{\"travelMode\":\"DRIVING\",\"origin\":_vm.getCarLocation,\"destination\":_vm.getDestination.position,\"suppressMarkers\":true}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"my-container\">\n        <div class=\"box\" v-if=\"carHasArrived\">\n            <h3 class=\"textClass\">{{$store.state.currentLang.arriveDropoff}}</h3>\n            <h3 class=\"textClass\">{{$store.state.currentLang.areYouOut}}</h3>\n            <button class=\"button green\" @click=\"endDrive\">{{$store.state.currentLang.yes}}</button>\n        </div>\n        <div class=\"box\" style=\"height: 60px\" v-else>\n            <h3 class=\"textClass\">{{$store.state.currentLang.speed}}{{velocity}} km/h</h3>\n        </div>\n        <GmapMap\n            ref=\"mapRef\" \n            :map-type-id='mapType' \n            :center='center' \n            :zoom='zoom' \n            :style=\"{ width: width + '%', height: height + 'px' }\" \n            :options='mapOptions'\n        >\n            <GmapMarker :position=\"getCarLocation\" :icon=\"{ url: require('../assets/carmarker.png')}\" />\n            <GmapMarker :position=\"getDestination.position\" />\n            \n            <!-- Custom route if waypoints exist -->\n            <!-- Completed part (blue) -->\n            <GmapPolyline \n                v-if=\"!carHasArrived && hasCustomWaypoints\"\n                :path=\"completedPath\"\n                :options=\"{ strokeColor: '#0000FF', strokeOpacity: 1.0, strokeWeight: 4 }\"\n            />\n            <!-- Remaining part (red) -->\n            <GmapPolyline \n                v-if=\"!carHasArrived && hasCustomWaypoints\"\n                :path=\"remainingPath\"\n                :options=\"{ strokeColor: '#FF0000', strokeOpacity: 1.0, strokeWeight: 4 }\"\n            />\n            <!-- Else fallback to DirectionsRenderer -->\n            <DirectionsRenderer \n                v-else-if=\"!carHasArrived && getCarLocation && getDestination.position\"\n                travelMode=\"DRIVING\" \n                :origin=\"getCarLocation\" \n                :destination=\"getDestination.position\" \n                :suppressMarkers=\"true\" \n            />\n        </GmapMap>\n    </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport DirectionsRenderer from './DirectionsRenderer.js';\n\nexport default {\n    name: 'DriveDestination',\n    components: {\n        DirectionsRenderer,\n    },\n\n    data() {\n        return {\n            center: { lat: 58.379717565420194, lng: 26.72276002855532 },\n            currentPlace: null,\n            zoom: 15,\n            mapType: 'roadmap',\n            mapOptions: {zoomControl: false, fullscreenControl: false, streetViewControl: false, mapTypeControl: false, preserveViewport: true },\n            userLocation: null,\n            height: 0,\n            width: 100,\n            pollingDist: null,\n            pollingVel: null,\n            wpPolling: null,\n            eventPolling: null,\n            velocity: 0,\n            carHasArrived: false,\n            mapObject: null,\n            pathHolder: null,\n            mqttBridge: null,\n        }\n    },\n    computed: {\n        ...mapGetters(['getDestination', 'getOrigin', 'getCarLocation', 'getUserLocation', 'getIP', 'getWaypoints', 'getMqttBridge']),\n        hasCustomWaypoints() {\n            return this.getWaypoints && this.getWaypoints.length > 0;\n        },\n        polylinePath() {\n            return this.hasCustomWaypoints\n                ? this.getWaypoints.map(point => ({\n                      lat: Number(point[0]),\n                      lng: Number(point[1])\n                  }))\n                : [];\n        },\n        completedPath() {\n            return this.getCompletedPath();\n        },\n        remainingPath() {\n            return this.getRemainingPath();\n        }\n    },\n    watch: {\n        polylinePath: {\n            immediate: true,\n            handler(newPath) {\n                if (newPath.length > 0 && this.pathHolder !== newPath) {\n                    const newPathString = JSON.stringify(newPath);\n                    if (this.pathString !== newPathString) {\n                        this.pathString = newPathString;\n                        const bounds = new google.maps.LatLngBounds();\n                        newPath.forEach(point => {\n                            bounds.extend(new google.maps.LatLng(point.lat, point.lng));\n                        });\n\n                        // Use $nextTick to ensure the map is ready before fitting bounds\n                        this.$nextTick(() => {\n                            if (this.$refs.mapRef && this.$refs.mapRef.$mapObject) {\n                                this.$refs.mapRef.$mapObject.fitBounds(bounds);\n                            }\n                        });\n                    }\n                }\n            }\n        }\n    },\n    methods: {\n        ...mapActions(['fetchWaypoints', 'nullWaypoints']),\n        pollEventState() {\n            this.eventPolling = setInterval(() => {\n                let wps = this.getWaypoints;\n                this.carHasArrived = wps && wps.length === 0;\n                if(this.carHasArrived){\n                    this.center = this.getCarLocation;\n                    this.zoom = 20;\n                }\n            }, 1000);\n        },\n        carVelocity() {\n            this.pollingVel = setInterval(() => {\n                this.velocity = this.mqttBridge.getSpeed();                \n            }, 1000);\n        },\n        endDrive() {\n            this.$store.dispatch('setDestination', null);\n            this.$store.dispatch('setOrigin', null);\n            this.$router.push('/rating');\n        },\n        getCompletedPath() {\n            if (!this.getCarLocation || !this.polylinePath.length) return [];\n            let closestIndex = this.findClosestPointIndex();\n            return this.polylinePath.slice(0, closestIndex + 1);\n        },\n        getRemainingPath() {\n            if (!this.getCarLocation || !this.polylinePath.length) return [];\n            let closestIndex = this.findClosestPointIndex();\n            return this.polylinePath.slice(closestIndex);\n        },\n        findClosestPointIndex() {\n            let carPos = this.getCarLocation;\n            let minDist = Infinity;\n            let closestIndex = 0;\n\n            this.polylinePath.forEach((point, index) => {\n                let dist = Math.hypot(carPos.lat - point.lat, carPos.lng - point.lng);\n                if (dist < minDist) {\n                    minDist = dist;\n                    closestIndex = index;\n                }\n            });\n\n            return closestIndex;\n        }\n    },\n    created() {\n        this.nullWaypoints();\n        this.mqttBridge = this.getMqttBridge;\n        this.height = window.innerHeight - 65;\n        this.pollEventState();\n        this.carVelocity();\n        // Poll for waypoints\n        this.fetchWaypoints();\n        this.wpPolling = setInterval(() => {\n            this.fetchWaypoints();\n        }, 1000);\n    },\n    beforeDestroy() {\n        if (this.pollingDist) {\n            clearInterval(this.pollingDist);\n            this.pollingDist = null;\n        }\n        if (this.pollingVel) {\n            clearInterval(this.pollingVel);\n            this.pollingVel = null;\n        }\n        if (this.wpPolling) {\n            clearInterval(this.wpPolling);\n            this.wpPolling = null;\n        }\n        if (this.eventPolling) {\n            clearInterval(this.eventPolling);\n            this.eventPolling = null;\n        }\n    },\n\n}\n</script>\n\n<style scoped>\n    .my-container {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .box {\n        width: 100%;\n        height: 200px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        border-radius: 10px;\n        background-color: lightgray;\n    }\n\n    .button {\n        position: relative;\n        border: 10px;\n        color: white;\n        padding: 15px 32px;\n        text-align: center;\n        text-decoration: none;\n        font-size: 16px;\n        cursor: pointer;\n        width: 50%;\n        border-radius: 25px;\n        background-color: var(--button-background-color);\n    }\n\n    .button.green {\n        --button-background-color: #00C679;\n    }\n\n    .button.green:hover {\n        --button-background-color: #006400;\n    }\n\n    @media screen and (min-width: 601px) {\n        .textClass {\n            font-size: 20px;\n            font-family: 'Roboto', sans-serif;\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        .textClass {\n            font-size: 17px;\n            font-family: 'Roboto', sans-serif;\n        }\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DriveDestination.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DriveDestination.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DriveDestination.vue?vue&type=template&id=08dfe20e&scoped=true\"\nimport script from \"./DriveDestination.vue?vue&type=script&lang=js\"\nexport * from \"./DriveDestination.vue?vue&type=script&lang=js\"\nimport style0 from \"./DriveDestination.vue?vue&type=style&index=0&id=08dfe20e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08dfe20e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-container\"},[(_vm.carHasArrived)?_c('div',{staticClass:\"box\"},[_c('h3',{staticClass:\"textClass\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.arrivePickup))]),_c('h3',{staticClass:\"textClass\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.areYouIn))]),_c('button',{staticClass:\"button green\",on:{\"click\":_vm.driveToDestination}},[_vm._v(_vm._s(_vm.$store.state.currentLang.inCar))])]):_c('div',{staticClass:\"box\",staticStyle:{\"height\":\"60px\"}},[_c('h3',{staticClass:\"textClass\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.driveToPickup))])]),_c('GmapMap',{ref:\"mapRef\",style:({ width: _vm.width + '%', height: _vm.height + 'px' }),attrs:{\"map-type-id\":_vm.mapType,\"center\":_vm.center,\"zoom\":_vm.zoom,\"options\":_vm.mapOptions}},[_c('GmapMarker',{attrs:{\"position\":_vm.getUserLocation.position,\"icon\":{ url: require('../assets/bluecircle.png')}}}),_c('GmapMarker',{attrs:{\"position\":_vm.getCarLocation,\"icon\":{ url: require('../assets/carmarker.png')}}}),_c('GmapMarker',{attrs:{\"position\":_vm.getOrigin.position}}),(!_vm.carHasArrived && _vm.hasCustomWaypoints)?_c('GmapPolyline',{attrs:{\"path\":_vm.completedPath,\"options\":{ strokeColor: '#0000FF', strokeOpacity: 1.0, strokeWeight: 4 }}}):_vm._e(),(!_vm.carHasArrived && _vm.hasCustomWaypoints)?_c('GmapPolyline',{attrs:{\"path\":_vm.remainingPath,\"options\":{ strokeColor: '#FF0000', strokeOpacity: 1.0, strokeWeight: 4 }}}):(!_vm.carHasArrived && _vm.getCarLocation && _vm.getOrigin.position)?_c('DirectionsRenderer',{attrs:{\"travelMode\":\"DRIVING\",\"origin\":_vm.getCarLocation,\"destination\":_vm.getOrigin.position,\"suppressMarkers\":true}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"my-container\">\n        <div class=\"box\" v-if=\"carHasArrived\">\n            <h3 class=\"textClass\">{{$store.state.currentLang.arrivePickup}}</h3>\n            <h3 class=\"textClass\">{{$store.state.currentLang.areYouIn}}</h3>\n            <button class=\"button green\" @click=\"driveToDestination\">{{$store.state.currentLang.inCar}}</button>\n        </div>\n        <div class=\"box\" style=\"height: 60px\" v-else>\n            <h3 class=\"textClass\">{{$store.state.currentLang.driveToPickup}}</h3>\n        </div>\n        <GmapMap \n            ref=\"mapRef\"\n            :map-type-id='mapType' \n            :center='center' \n            :zoom='zoom' \n            :style=\"{ width: width + '%', height: height + 'px' }\" \n            :options='mapOptions'\n        >\n            <GmapMarker :position=\"getUserLocation.position\" :icon=\"{ url: require('../assets/bluecircle.png')}\" />\n            <GmapMarker :position=\"getCarLocation\" :icon=\"{ url: require('../assets/carmarker.png')}\" />\n            <GmapMarker :position=\"getOrigin.position\" />\n\n            <!-- Custom route if waypoints exist -->\n            <!-- Completed part (blue) -->\n            <GmapPolyline \n                v-if=\"!carHasArrived && hasCustomWaypoints\"\n                :path=\"completedPath\"\n                :options=\"{ strokeColor: '#0000FF', strokeOpacity: 1.0, strokeWeight: 4 }\"\n            />\n            <!-- Remaining part (red) -->\n            <GmapPolyline \n                v-if=\"!carHasArrived && hasCustomWaypoints\"\n                :path=\"remainingPath\"\n                :options=\"{ strokeColor: '#FF0000', strokeOpacity: 1.0, strokeWeight: 4 }\"\n            />\n            <!-- Else fallback to DirectionsRenderer -->\n            <DirectionsRenderer \n                v-else-if=\"!carHasArrived && getCarLocation && getOrigin.position\"\n                travelMode=\"DRIVING\" \n                :origin=\"getCarLocation\" \n                :destination=\"getOrigin.position\" \n                :suppressMarkers=\"true\" \n            />\n        </GmapMap>\n    </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport DirectionsRenderer from './DirectionsRenderer.js';\n\nexport default {\n    name: 'DriveOrigin',\n    components: {\n        DirectionsRenderer,\n    },\n    data() {\n        return {\n            center: { lat: 58.379717565420194, lng: 26.72276002855532 },\n            zoom: 15,\n            mapType: 'roadmap',\n            mapOptions: { zoomControl: false, fullscreenControl: false, streetViewControl: false, mapTypeControl: false, preserveViewport: true },\n            height: 0,\n            width: 100,\n            polling: null,\n            wpPolling: null,\n            carHasArrived: false,\n            pathString: null,\n            mqttBridge: null,\n            waitingForWaypoints: true,\n        }\n    },\n    computed: {\n        ...mapGetters(['getDestination', 'getOrigin', 'getCarLocation', 'getUserLocation', 'getIP', 'getWaypoints', 'getDropoffPosition', 'getMqttBridge']),\n        hasCustomWaypoints() {\n            return this.getWaypoints && this.getWaypoints.length > 0;\n        },\n        polylinePath() {\n            return this.hasCustomWaypoints\n                ? this.getWaypoints.map(point => ({\n                      lat: Number(point[0]),\n                      lng: Number(point[1])\n                  }))\n                : [];\n        },\n        completedPath() {\n            return this.getCompletedPath();\n        },\n        remainingPath() {\n            return this.getRemainingPath();\n        }\n    },\n    watch: {\n        polylinePath: {\n            immediate: true,\n            handler(newPath) {\n                if (newPath.length > 0) {\n                    const newPathString = JSON.stringify(newPath);\n                    if (this.pathString !== newPathString) {\n                        this.pathString = newPathString;\n                        const bounds = new google.maps.LatLngBounds();\n                        newPath.forEach(point => {\n                            bounds.extend(new google.maps.LatLng(point.lat, point.lng));\n                        });\n                        // Use $nextTick to ensure the map is ready before fitting bounds\n                        this.$nextTick(() => {\n                            if (this.$refs.mapRef && this.$refs.mapRef.$mapObject) {\n                                this.$refs.mapRef.$mapObject.fitBounds(bounds);\n                            }\n                        });\n                    }\n                }\n            }\n        }\n    },\n    methods: {\n        ...mapActions(['fetchWaypoints', 'setDropoffPosition', 'nullWaypoints']),\n        driveToDestination() {\n            this.nullWaypoints();\n            this.mqttBridge.publishGoal(this.getDestination.position);\n            this.setDropoffPosition(this.getDestination.position);\n            this.$router.push('/driveDestination');\n        },\n        pollEventState() {\n            this.polling = setInterval(() => {\n                let wps = this.getWaypoints;\n                this.carHasArrived = wps && wps.length === 0;\n                if (this.carHasArrived) {\n                    this.center = this.getCarLocation;\n                    this.zoom = 20;\n                }\n            }, 1000);\n        },\n        getCompletedPath() {\n            if (!this.getCarLocation || !this.polylinePath.length) return [];\n            let closestIndex = this.findClosestPointIndex();\n            return this.polylinePath.slice(0, closestIndex + 1);\n        },\n        getRemainingPath() {\n            if (!this.getCarLocation || !this.polylinePath.length) return [];\n            let closestIndex = this.findClosestPointIndex();\n            return this.polylinePath.slice(closestIndex);\n        },\n        findClosestPointIndex() {\n            let carPos = this.getCarLocation;\n            let minDist = Infinity;\n            let closestIndex = 0;\n\n            this.polylinePath.forEach((point, index) => {\n                let dist = Math.hypot(carPos.lat - point.lat, carPos.lng - point.lng);\n                if (dist < minDist) {\n                    minDist = dist;\n                    closestIndex = index;\n                }\n            });\n\n            return closestIndex;\n        }\n    },\n    created() {\n        this.nullWaypoints();\n        this.mqttBridge = this.getMqttBridge;\n        this.height = window.innerHeight - 65;\n\n        this.pollEventState();\n        // Poll for custom waypoints too:\n        this.fetchWaypoints();\n        this.wpPolling = setInterval(() => {\n            this.fetchWaypoints();\n        }, 1000);\n    },\n    beforeDestroy() {\n        if (this.polling) {\n            clearInterval(this.polling);\n            this.polling = null;\n        }\n        if (this.wpPolling) {\n            clearInterval(this.wpPolling);\n            this.wpPolling = null;\n        }\n    },\n}\n</script>\n\n<style scoped>\n    .my-container {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .box {\n        width: 100%;\n        height: 200px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        border-radius: 10px;\n        background-color: lightgray;\n    }\n\n    .button {\n        position: relative;\n        border: 10px;\n        color: white;\n        padding: 15px 32px;\n        text-align: center;\n        text-decoration: none;\n        font-size: 16px;\n        cursor: pointer;\n        width: 50%;\n        border-radius: 25px;\n        background-color: var(--button-background-color);\n    }\n\n    .button.green {\n        --button-background-color: #00C679;\n    }\n\n    .button.green:hover {\n        --button-background-color: #006400;\n    }\n\n    @media screen and (min-width: 601px) {\n        .textClass {\n            font-size: 20px;\n            font-family: 'Roboto', sans-serif;\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        .textClass {\n            font-size: 17px;\n            font-family: 'Roboto', sans-serif;\n        }\n    }\n    \n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DriveOrigin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DriveOrigin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DriveOrigin.vue?vue&type=template&id=91eff238&scoped=true\"\nimport script from \"./DriveOrigin.vue?vue&type=script&lang=js\"\nexport * from \"./DriveOrigin.vue?vue&type=script&lang=js\"\nimport style0 from \"./DriveOrigin.vue?vue&type=style&index=0&id=91eff238&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91eff238\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-container\"},[_c('div',{staticClass:\"box\"},[_c('h3',{staticClass:\"textClass\"},[_vm._v(_vm._s(_vm.$store.state.currentLang.rating))]),_c('star-rating',{attrs:{\"inactive-color\":\"white\",\"show-rating\":false},on:{\"rating-selected\":_vm.setRating},model:{value:(_vm.rating),callback:function ($$v) {_vm.rating=$$v},expression:\"rating\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"my-container\">\n        <div class=\"box\">\n            <h3 class=\"textClass\">{{$store.state.currentLang.rating}}</h3>\n            <star-rating inactive-color=\"white\" v-model=\"rating\" v-bind:show-rating=false @rating-selected=\"setRating\"></star-rating>\n        </div>\n    </div>\n</template>\n\n<script>\nimport StarRating from 'vue-star-rating';\nimport { mapGetters } from 'vuex';\n\nexport default {\n    components: {\n        StarRating,\n    },\n    data() {\n        return {\n            rating: null\n        }\n    },\n\n    computed: {\n        ...mapGetters(['getIP', 'getMqttBridge'])\n    },\n\n    methods: {\n        setRating() {\n            const current = new Date();\n            const date = current.getFullYear()+'-'+(current.getMonth()+1)+'-'+current.getDate();\n            const time = current.getHours() + \":\" + current.getMinutes() + \":\" + current.getSeconds();\n            const dateTime = date +' '+ time;\n            this.getMqttBridge.publishRating(\n                {\n                    datetime: dateTime,\n                    rating: this.rating,                    \n                }\n            );\n            this.$router.push('/map');\n        }\n    },\n    \n}\n</script>\n\n<style scoped>\n    .my-container {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        align-content: center;\n        position: absolute;\n    }\n\n    .box {\n        width: 100%;\n        height: 190px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        border-radius: 10px;\n        background-color: lightgray;\n    }\n\n    @media screen and (min-width: 601px) {\n        .textClass {\n            font-size: 20px;\n            font-family: 'Roboto', sans-serif;\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        .textClass {\n            font-size: 17px;\n            font-family: 'Roboto', sans-serif;\n        }\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rating.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rating.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Rating.vue?vue&type=template&id=56fa1a10&scoped=true\"\nimport script from \"./Rating.vue?vue&type=script&lang=js\"\nexport * from \"./Rating.vue?vue&type=script&lang=js\"\nimport style0 from \"./Rating.vue?vue&type=style&index=0&id=56fa1a10&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56fa1a10\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[(_vm.getLang === 'en')?_c('img',{staticClass:\"languageButton\",attrs:{\"src\":require(\"../assets/estonia.png\")},on:{\"click\":_vm.changeLang}}):_vm._e(),(_vm.getLang === 'est')?_c('img',{staticClass:\"languageButton\",attrs:{\"src\":require(\"../assets/united-kingdom.png\")},on:{\"click\":_vm.changeLang}}):_vm._e(),_c('h1',[_vm._v(_vm._s(_vm.$store.state.currentLang.enterSessionId))]),_c('div',{staticClass:\"code-input-container\"},_vm._l((_vm.sessionIdArray),function(digit,index){return _c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sessionIdArray[index]),expression:\"sessionIdArray[index]\"}],key:index,ref:\"codeInput\",refInFor:true,staticClass:\"code-input\",attrs:{\"type\":\"text\",\"inputmode\":\"numeric\",\"pattern\":\"[0-9]*\",\"disabled\":_vm.validationStatus},domProps:{\"value\":(_vm.sessionIdArray[index])},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.sessionIdArray, index, $event.target.value)},function($event){return _vm.onInput(digit, index, $event)}],\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"backspace\",undefined,$event.key,undefined))return null;return _vm.onBackspace(index, $event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"arrow-left\",undefined,$event.key,undefined))return null;return _vm.onArrowLeft(index)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"arrow-right\",undefined,$event.key,undefined))return null;return _vm.onArrowRight(index)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.validateSession.apply(null, arguments)}],\"paste\":function($event){return _vm.onPaste(index, $event)}}})}),0),_c('button',{staticClass:\"validate-button\",attrs:{\"disabled\":_vm.validationStatus},on:{\"click\":_vm.validateSession}},[_vm._v(\" \"+_vm._s(_vm.$store.state.currentLang.validate)+\" \")]),_c('div',{staticClass:\"info-message-container\"},[(_vm.validationStatus)?_c('p',{staticClass:\"status\"},[_vm._v(_vm._s(_vm.validationStatus))]):_vm._e(),(_vm.errorMessage)?_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e(),(_vm.validationStatus)?_c('div',{staticClass:\"loader\"}):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mqtt from 'mqtt';\n\nexport class MqttBridge {\n  constructor(sessionId, isDev = false) {\n    this.sessionId = sessionId;\n    this.isDev = isDev;\n    this.client = null;\n    this.pose = null;\n    this.speed = 0.0;\n    this.waypoints = null;\n    this.isSessionValid = false;\n\n    this.topics = {\n      published: {\n        GOAL: `session/${sessionId}/goal`,\n        RATING: `session/${sessionId}/rating`,\n      },\n      received: {\n        STATUS: `session/${sessionId}/status`,\n        ROUTE: `session/${sessionId}/route`,\n      },\n    };\n  }\n\n  connect(host = \"mqtt.cloud.ut.ee\", port = 8084, useTLS = true) {\n    const protocol = useTLS ? 'wss' : 'ws';\n    const options  = {\n        // Validate server certificate using system CA store\n        rejectUnauthorized: true,\n        clientId: this.sessionId,\n    };\n    this.client = mqtt.connect(`${protocol}://${host}:${port}`, options);\n\n    this.client.on('connect', (connack) => {\n      if (connack.returnCode === 0) {\n        if (this.isDev)\n          console.log(`Connected to MQTT host with session ID: ${this.sessionId}`);\n        this.client.subscribe(this.topics.received.STATUS);\n        this.client.subscribe(this.topics.received.ROUTE, { qos: 1 });\n      } else {\n        console.error(\n          `Failed to connect to MQTT host. Reason: ${mqtt.CONNACK.returnCode[connack.returnCode]}`\n        );\n      }\n    });\n\n    this.client.on('message', (topic, message) => {\n      const data = JSON.parse(message.toString());\n      if (topic === this.topics.received.STATUS) {\n        this.pose = data.pose;\n        this.speed = data.speed;\n        this.isSessionValid = true;\n      } else if (topic === this.topics.received.ROUTE) {\n        this.waypoints = data.waypoints;\n      }\n    });\n  }\n\n  validateSession(timeout = 3000) {\n    return new Promise((resolve) => {\n      this.isSessionValid = false; // Reset session validity\n      const startTime = Date.now();\n\n      const interval = setInterval(() => {\n        if (this.isSessionValid) {\n          clearInterval(interval);\n          resolve(true); // Session is valid\n        } else if (Date.now() - startTime > timeout) {\n          clearInterval(interval);\n          this.disconnect(); // Disconnect if session is invalid\n          resolve(false); // Session is invalid\n        }\n      }, 100); // Check every 100ms\n    });\n  }\n\n  disconnect() {\n    this.client.end();\n    if (this.isDev) \n      console.log('Disconnected from MQTT host:', this.sessionId);\n  }\n\n  publishGoal(data) {\n    this.client.publish(this.topics.published.GOAL, JSON.stringify(data), { qos: 1 });\n  }\n\n  publishRating(data) {\n    this.client.publish(this.topics.published.RATING, JSON.stringify(data), { qos: 1 });\n  }\n\n  getPose() {\n    return this.pose;\n  }\n\n  getSpeed() {\n    return this.speed;\n  }\n\n  getWaypoints() {\n    return this.waypoints;\n  }\n\n  nullWaypoints() {\n    this.waypoints = null;\n  }\n}","<template>\n    <div class=\"login-container\">\n        <img v-if=\"getLang === 'en'\" @click=\"changeLang\" class=\"languageButton\" src=\"../assets/estonia.png\" />\n        <img v-if=\"getLang === 'est'\" @click=\"changeLang\" class=\"languageButton\" src=\"../assets/united-kingdom.png\" />\n        <h1>{{ $store.state.currentLang.enterSessionId }}</h1>\n        <div class=\"code-input-container\">\n            <input\n                v-for=\"(digit, index) in sessionIdArray\"\n                :key=\"index\"\n                v-model=\"sessionIdArray[index]\"\n                type=\"text\"\n                inputmode=\"numeric\"\n                pattern=\"[0-9]*\"\n                class=\"code-input\"\n                @input=\"onInput(digit, index, $event)\"\n                @keydown.backspace=\"onBackspace(index, $event)\"\n                @keydown.arrow-left=\"onArrowLeft(index)\"\n                @keydown.arrow-right=\"onArrowRight(index)\"\n                @keydown.enter=\"validateSession\"\n                @paste=\"onPaste(index, $event)\"\n                ref=\"codeInput\"\n                :disabled=\"validationStatus\"\n            />\n        </div>\n        <button @click=\"validateSession\" class=\"validate-button\" :disabled=\"validationStatus\">\n            {{ $store.state.currentLang.validate }}\n        </button>\n        <div class=\"info-message-container\">\n            <p v-if=\"validationStatus\" class=\"status\">{{ validationStatus }}</p>\n            <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n            <div v-if=\"validationStatus\" class=\"loader\"></div> \n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport { MqttBridge } from '@/utils/mqttBridge';\n\nexport default {\n    data() {\n        return {\n            sessionIdArray: [\"\", \"\", \"\", \"\", \"\", \"\"], // Array for 6-digit code\n            errorMessage: \"\",\n            currentError: null,\n        };\n    },\n    computed: {\n        ...mapGetters(['getLang', 'getCurrentLang']),\n        validationStatus() {\n            return this.$store.state.sessionValidationStatus;\n        },\n        sessionId() {\n            return this.sessionIdArray.join(\"\");\n        },\n    },\n    methods: {\n        ...mapActions(['setLang', 'setCurrentLang', 'setMqttBridge']),\n        changeLang: function() {\n            if (this.getLang === 'est') {\n                this.setLang('en');\n                this.setCurrentLang(this.$store.state.locale.en);\n            }\n            else {\n                this.setLang('est');\n                this.setCurrentLang(this.$store.state.locale.est);\n            }\n            \n            if (this.currentError) {\n                switch (this.currentError) {\n                    case \"incorrectFormatError\":\n                        this.errorMessage = this.$store.state.currentLang.incorrectFormatError;\n                        break;\n                    case \"sessionNotFoundError\":\n                        this.errorMessage = this.$store.state.currentLang.sessionNotFoundError;\n                        break;\n                    default:\n                        this.errorMessage = this.$store.state.currentLang.sessionNotFoundError;\n                }\n            }\n            if (this.validationStatus) {\n                this.$store.dispatch(\n                    \"setSessionValidationStatus\",\n                    this.$store.state.currentLang.attemptingToConnect\n                );            \n            }\n        },\n        onInput(digit, index, event) {\n            let value = event.target.value.replace(/\\D/g, \"\"); // Allow only digits\n            \n            if (value.length > 1) {\n                value = value.replace(digit, \"\"); // Remove the current value from the input\n            }\n\n            if (value.length > 0) {\n                // Overwrite the current cell with the first digit\n                this.$set(this.sessionIdArray, index, value[0]);\n\n                // Automatically move to the next input if a digit is entered\n                if (index < this.sessionIdArray.length - 1) {\n                    this.$refs.codeInput[index + 1].focus();\n                }\n            } else {\n                // Clear the current cell if no value is entered\n                this.$set(this.sessionIdArray, index, \"\");\n            }\n\n            // Ensure the input field visually reflects the single digit\n            event.target.value = this.sessionIdArray[index];\n        },\n        onBackspace(index, event) {\n            // Move to the previous input if backspace is pressed\n            event.preventDefault(); // Prevent default backspace behavior\n            if (index > 0) {\n                this.$set(this.sessionIdArray, index, \"\");\n                this.$refs.codeInput[index - 1].focus();\n            } else {\n                this.$set(this.sessionIdArray, index, \"\");\n            }\n        },\n        onArrowLeft(index) {\n            // Move to the previous input if left arrow is pressed\n            if (index > 0) {\n                this.$refs.codeInput[index - 1].focus();\n            }\n        },\n        onArrowRight(index) {\n            // Move to the next input if right arrow is pressed\n            if (index < this.sessionIdArray.length - 1) {\n                this.$refs.codeInput[index + 1].focus();\n            }\n        },\n        onPaste(index, event) {\n            event.preventDefault(); // Prevent default paste behavior\n\n            const pastedData = (event.clipboardData || window.clipboardData).getData('text'); // Get the pasted text\n            if (!/^\\d+$/.test(pastedData)) {\n                // If the pasted text contains non-digit characters, ignore it\n                return;\n            }\n\n            // Distribute the digits across the input fields starting from the current index\n            let currentIndex = index;\n            for (let char of pastedData) {\n                if (currentIndex >= this.sessionIdArray.length) {\n                    break; // Stop if we run out of input fields\n                }\n                this.$set(this.sessionIdArray, currentIndex, char); // Set the digit in the current cell\n                currentIndex++;\n            }\n\n            // Move focus to the next empty cell or the last cell filled\n            if (currentIndex < this.sessionIdArray.length) {\n                this.$refs.codeInput[currentIndex].focus();\n            } else {\n                this.$refs.codeInput[this.sessionIdArray.length - 1].focus();\n            }\n        },\n        async validateSession() {\n            if (!this.sessionId || this.sessionId.length !== 6 || isNaN(this.sessionId)) {\n                this.errorMessage = this.$store.state.currentLang.incorrectFormatError;\n                this.currentError = \"incorrectFormatError\";\n                return;\n            }\n\n            this.$store.dispatch(\n                \"setSessionValidationStatus\",\n                this.$store.state.currentLang.attemptingToConnect\n            );\n            this.errorMessage = \"\";\n            this.currentError = null;\n\n            const mqttBridge = new MqttBridge(this.sessionId);\n            mqttBridge.connect();\n            \n            const isValid = await mqttBridge.validateSession();\n\n            if (isValid) {\n                this.setMqttBridge(mqttBridge);\n\n                await this.$store.dispatch(\"setIsSessionValid\", true);\n                await this.$store.dispatch(\"setSessionValidationStatus\", null);\n                await this.$store.dispatch(\"setSessionId\", this.sessionId);\n                \n                const urlParams = new URLSearchParams(window.location.search);\n                urlParams.set(\"session_id\", this.sessionId);\n                const newUrl = `${window.location.origin}${window.location.pathname}?${urlParams.toString()}${window.location.hash}`;\n                window.history.replaceState({}, '', newUrl);\n\n                this.$router.push(\"/map\"); // Redirect to the main map page\n            } else {\n                this.errorMessage = this.$store.state.currentLang.sessionNotFoundError;\n                this.currentError = \"sessionNotFoundError\";\n                this.$store.dispatch(\"setSessionValidationStatus\", null);\n            }\n        },\n    },\n    mounted() {\n        const urlParams = new URLSearchParams(window.location.search);\n        const sessionId = urlParams.get(\"session_id\");\n\n        if (sessionId && sessionId.length === 6 && !isNaN(sessionId)) {\n            // Populate the sessionIdArray\n            this.sessionIdArray = sessionId.split(\"\");\n\n            // Call validateSession automatically\n            this.validateSession();\n        } else {\n            // Focus on the first input field when the component is mounted\n            this.$refs.codeInput[0].focus();\n        }\n    },\n};\n</script>\n\n<style scoped>\n.login-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    background-color: #f5f5f5;\n}\n.code-input-container {\n    display: flex;\n    justify-content: center;\n    gap: 10px;\n    margin: 20px 0;\n}\n.code-input {\n    text-align: center;\n    border: 2px solid #ccc;\n    border-radius: 5px;\n    outline: none;\n    transition: border-color 0.3s ease;\n    caret-color: transparent;\n}\n\n@media (max-width: 500px) {\n    .code-input {\n        width: 30px;\n        height: 40px;\n        font-size: 20px;\n    }\n}\n@media (min-width: 501px) {\n    .code-input {\n        width: 40px;\n        height: 50px;\n        font-size: 24px;\n    }\n}\n\n.code-input:focus {\n    border-color: #007bff;\n    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\n    background-color: #c4e5f5;\n}\n.validate-button {\n    padding: 10px 20px;\n    font-size: 16px;\n    cursor: pointer;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 5px;\n}\n.validate-button:hover {\n    background-color: #0056b3;\n}\n.validate-button:disabled {\n    background-color: #686868;\n    cursor: not-allowed; \n    opacity: 0.6; \n}\n.info-message-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    width: 80%;\n    margin-top: 20px;\n    font-size: 18px;\n}\n.status {\n    color: blue;\n    margin-top: 10px;\n}\n.error {\n    color: red;\n    margin-top: 10px;\n}\n.loader {\n  border: 16px solid #adadad; /* Light grey */\n  border-top: 16px solid #2987c5; /* Blue */\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 2s linear infinite;\n  margin-top: 10px;\n}\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.languageButton {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 1;\n    height: 25px;\n    width: 25px;\n    cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionLogin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionLogin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SessionLogin.vue?vue&type=template&id=69e210dd&scoped=true\"\nimport script from \"./SessionLogin.vue?vue&type=script&lang=js\"\nexport * from \"./SessionLogin.vue?vue&type=script&lang=js\"\nimport style0 from \"./SessionLogin.vue?vue&type=style&index=0&id=69e210dd&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69e210dd\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport Map from '@/components/Map.vue'\nimport Confirm from '@/components/Confirm.vue'\nimport DestinationSearch from '@/components/DestinationSearch.vue'\nimport DriveDestination from '@/components/DriveDestination.vue'\nimport DriveOrigin from '@/components/DriveOrigin.vue'\nimport Rating from '@/components/Rating.vue'\nimport SessionLogin from '@/components/SessionLogin.vue'\n\nVue.use(Router)\n\nexport default new Router({\n    mode: 'history',\n    routes: [\n\n        {\n            path: '/',\n            name: 'SessionLogin',\n            component: SessionLogin,\n            meta: {\n                notRequiresAuth: true\n            }\n        },\n        {\n            path: '/map',\n            name: 'Map',\n            component: Map\n        },\n        \n        {\n            path: '/destinationSearch',\n            name: 'DestinationSearch',\n            component: DestinationSearch\n        },\n\n        {\n            path: '/confirm',\n            name: 'Confirm',\n            component: Confirm\n        },\n\n        {\n            path: '/driveOrigin',\n            name: 'DriveOrigin',\n            component: DriveOrigin\n        },\n\n        {\n            path: '/driveDestination',\n            name: 'DriveDestination',\n            component: DriveDestination,\n        },\n\n        {\n            path: '/rating',\n            name: 'Rating',\n            component: Rating,\n        },\n    ]\n})\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store/store\";\nimport router from \"./router/router\";\nimport * as VueGoogleMaps from \"vue2-google-maps\";\nimport { IconsPlugin } from 'bootstrap-vue'\n\nVue.config.productionTip = false;\nVue.use(IconsPlugin);\nVue.use(VueGoogleMaps, {\n    load: {\n        key: \"AIzaSyAixRzVqb7kii3XrzzL3OxsN7k_2CoMeaM\",\n        libraries: \"places, directions, geolocation, geometry\",\n    },\n});\n\ndocument.addEventListener('visibilitychange', () => {\n    if (document.visibilityState === 'hidden') {\n        if (store.state.sessionId) {\n            store.state.mqttBridge.disconnect();\n            store.dispatch('resetStateToDefault');\n        }\n    }\n});\n\nrouter.beforeEach((to, _from, next) => {\n    // Check if the route requires authentication\n    if (to.matched.some(record => !record.meta.notRequiresAuth)) {\n        // Check if the user is authenticated\n        if (!store.state.isSessionValid) {\n            // Redirect to the login page if not authenticated\n            next({ path: '/' });\n        } else {\n            const sessionId = store.state.sessionId;\n            // Only modify the route if sessionId is missing (will happen once after logging in)\n            if (to.query.sessionId !== sessionId) {\n                next({\n                    ...to,\n                    query: {\n                        ...to.query,\n                        sessionId: sessionId,\n                    },\n                });\n            } else {\n                next(); // Proceed if sessionId is already correct\n            }\n        }\n    } else {\n        // If the route does not require authentication:\n\n        // Check if sessionId exists in the query params\n        if ('sessionId' in to.query) {\n            // Remove sessionId from query params\n            next({\n                ...to,\n                query: Object.fromEntries(\n                    Object.entries(to.query).filter(([key]) => key !== 'sessionId')\n                ),\n            });\n        } else {\n            // Proceed without modifying the route if sessionId is not present\n            next();\n        }\n    }\n});\n\n// Suppress navigation errors caused by redirections\nconst originalPush = router.push;\nrouter.push = function push(location, onResolve, onReject) {\n    if (onResolve || onReject) {\n        return originalPush.call(this, location, onResolve, onReject);\n    }\n    return originalPush.call(this, location).catch((err) => {\n        if (!/redirected/i.test(err.message)) {\n            throw err; // Re-throw unexpected errors\n        }\n    });\n};\nconst originalReplace = router.replace;\nrouter.replace = function replace(location, onResolve, onReject) {\n    if (onResolve || onReject) {\n        return originalReplace.call(this, location, onResolve, onReject);\n    }\n    return originalReplace.call(this, location).catch((err) => {\n        if (!/redirected/i.test(err.message)) {\n            throw err; // Re-throw unexpected errors\n        }\n    });\n};\n\nnew Vue({\n    store,\n    router,\n    render: (h) => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rating.vue?vue&type=style&index=0&id=56fa1a10&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DriveDestination.vue?vue&type=style&index=0&id=08dfe20e&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DriveOrigin.vue?vue&type=style&index=0&id=91eff238&prod&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=c2b275f8&prod&lang=css\"","module.exports = __webpack_public_path__ + \"img/united-kingdom.6f382b2d.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DestinationSearch.vue?vue&type=style&index=0&id=875a6106&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/estonia.9c32da2c.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&id=2b48b7dc&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionLogin.vue?vue&type=style&index=0&id=69e210dd&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DestinationSearch.vue?vue&type=style&index=1&id=875a6106&prod&lang=css\""],"sourceRoot":""}